(function(n){var r={};function i(e){if(r[e]){return r[e].exports}var t=r[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=n;i.c=r;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(t,e){if(e&1)t=i(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=0)})([function(e,t){window.addEventListener("load",function(e){var n=document.getElementById("canvas");n.height=999;n.width=999;var t=function(){var t=[];function e(e){t=e}function n(e){var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height);t.forEach(function(e){var t=parseInt(e.Position/1e4,10);var n=e.Position-t*1e4;if(e.Uuid==l){r.fillStyle="blue"}r.fillRect(t,n,10,10);r.fillStyle="black"})}return{setObjects:e,drawCanvas:n}};var r=t();var i;var a=document.getElementById("output");var o=document.getElementById("type");var u=document.getElementById("input");var c;var l;var f;var d=(new Date).getTime();var s=0;var v=function(e){var t=document.createElement("div");t.innerHTML=e;a.appendChild(t)};document.getElementById("open").onclick=function(e){var t=document.getElementById("address").value;if(c){return false}c=new WebSocket("ws://"+t+"/ws");i=setInterval(function(){r.drawCanvas(n)},500);c.onopen=function(e){v("OPEN")};c.onclose=function(e){v("CLOSE");c=null;clearInterval(f);f=null};c.onmessage=function(e){if(!e.data){return}var t=JSON.parse(e.data);var n=t.Time;switch(t.Action){case"pong":s=d-n;break;case"status":r.setObjects(Object.values(t.Data.Objects.start));break;case"login":l=t.Data.Uuid;break}v("RESPONSE: "+e.data)};c.onerror=function(e){v("ERROR: "+e.data)};f=setInterval(m,5e3);return false};document.getElementById("send").onclick=function(e){if(!c){return false}v("SEND: "+u.value);var t={actionType:o.value,value:u.value,time:(new Date).getTime()-s};c.send(JSON.stringify(t));return false};document.getElementById("close").onclick=function(e){if(!c){return false}c.close();clearInterval(i);return false};function m(){if(!c){return}d=(new Date).getTime();var e={actionType:"ping",time:d-s};c.send(JSON.stringify(e))}document.getElementById("left").onclick=function(e){if(!c){return false}v("SEND: left");var t={actionType:"move",value:{Direction:4.7,Speed:1},time:(new Date).getTime()-s};c.send(JSON.stringify(t));return false};document.getElementById("right").onclick=function(e){if(!c){return false}v("SEND: right");var t={actionType:"move",value:{Direction:1.5,Speed:1},time:(new Date).getTime()-s};c.send(JSON.stringify(t));return false};document.getElementById("up").onclick=function(e){if(!c){return false}v("SEND: up");var t={actionType:"move",value:{Direction:0,Speed:1},time:(new Date).getTime()-s};c.send(JSON.stringify(t));return false};document.getElementById("down").onclick=function(e){if(!c){return false}v("SEND: down");var t={actionType:"move",value:{Direction:3.14,Speed:1},time:(new Date).getTime()-s};c.send(JSON.stringify(t));return false}})}]);